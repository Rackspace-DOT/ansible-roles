---
- name: Install PyCurl
  yum:
    name: python-pycurl
    state: present

- name: Include RedHat Vars
  include_vars: RedHat.yml

- name: Add Jenkins Repository
  get_url:
    url: "http://pkg.jenkins-ci.org/redhat/jenkins.repo"
    dest: '/etc/yum.repos.d/jenkins.repo'

- name: Add Jenkins Repository Key
  rpm_key:
    key: "https://jenkins-ci.org/redhat/jenkins-ci.org.key"
    state: present

- name: Install Java
  apt:
    name: '{{ item }}'
    state: present
  with_items:
    - 'java-1.7.0-openjdk'

- name: Install Jenkins
  yum:
    name: jenkins
    state: present

- name: Copy /etc/default/jenkins
  template:
    src: 'Debian/jenkins.j2'
    dest: '/etc/default/jenkins'
